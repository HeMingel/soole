apply plugin: 'org.springframework.boot'
apply plugin: 'war'
apply plugin: "com.cuisongliu.plugin.mybatis-generator"

sourceCompatibility = 1.8
targetCompatibility = 1.8

dependencies {

    // 依赖通用工程
    compile project(':searched-common')

    // 实体编译组件
    compileOnly('org.projectlombok:lombok')

    // OAUTH2组件
    // https://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-starter-oauth2
    compile('org.springframework.cloud:spring-cloud-starter-oauth2:1.2.2.RELEASE')

    // 正式打包时，请移除该注释
//	providedRuntime('org.springframework.boot:spring-boot-starter-tomcat')

    // 测试组件
    testCompile('org.springframework.boot:spring-boot-starter-test')

    testCompile group: 'junit', name: 'junit', version: '4.11'

}

// 指定工程编码格式
tasks.withType(JavaCompile) {
    options.encoding = 'UTF-8'
}

mbg {
    overwrite = true
    consoleable = true
    generatorFile = "src/main/resources/generatorConfig.xml"
    jdbc{
        driver = "com.mysql.jdbc.Driver"
        url    = "jdbc:mysql://47.94.93.150:1598/searched?useSSL=false&useUnicode=true&characterEncoding=UTF-8&autoReconnect=true"
        username = "searched"
        password = "86GYBXkzTbA%y@27"
    }
    xml{
        tableName = 'sl'
        objectName = 'SL'
        resourcesProject = "src/main/java"
        mapperPlugin = tk.mybatis.mapper.generator.MapperPlugin.class
        mapperMapper = "tk.mybatis.mapper.common.Mapper"
        mapperPackage= "com.songpo.searched.mapper"
        modelPackage = "com.songpo.searched.entity"
        xmlPackage =   "com.songpo.searched.mapper"
    }
}